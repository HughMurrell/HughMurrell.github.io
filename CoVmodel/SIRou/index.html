<!DOCTYPE html>
<html>                                                                  
 <head>                                                                  
 <script type="text/javascript" src="jquery-1.7.1.min.js"></script>          
 <script type="text/javascript" src="jquery.flot.min.js"></script>
 <script type="text/javascript" src="d3.min.js"></script>
 <script type="text/javascript" src="d3.geom.min.js"></script>
 <script type="text/javascript" src="d3.layout.min.js"></script>
 <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
 <script type='text/javascript' src='Cobyla.js' ></script>
  <script type='text/javascript' src='fmin.min.js'></script>
  <link type="text/css" rel="stylesheet" href="sirtoy.css"/>
 <title>SIR toy</title>
 </head>

<body>
    
    <h2> Discrete SIR model with intervention amelioration for COVID-19 case counts</h2>
     
     <p> This tool allows the user to fit the simplest possible SIR epidemic model to data from
     the <a href="https://www.bsg.ox.ac.uk/research/research-projects/oxford-covid-19-government-response-tracker" target=blank>Oxford COVID-19 Government Response Tracker </a>.</p>
     
     <p>Standard SIR parameters, &beta; and &gamma;, can be set to model case count data and
     three novel parameters, &lambda;, &mu; and &eta;, can be set to model the effect of the
     Oxford stringency index on the SIR parameter &beta;.
     Once the parameters are set use the buttons to initiate simulations.
     The x-axis shows days since start of breakout whilst the y-axis shows case counts.</p>
     
     <p> The default settings are optimal for the <b>South Africa</b> data. The user can experiment with
     data for other countries but will have to manually optimise the SIR parameters.
     It is hoped that later versions of the tool will include code to automate the optimisation of parameters.
     New data will be uploaded periodically as the epidemic unfolds.
     To learn more about intervention effects on epidemics listen to this
     <a href=https://www.youtube.com/watch?v=gxAaO2rsdIs target=blank> 3blue1brown </a> youtube video.</p>

  <div id="container">

  <div id="epicurves"></div>

<!--
  <div id="counters">
     <span id="susceptible"><span id="count_S">0</span> susceptible</span><br />
     <span id="infectious"><span id="count_I">0</span> infectious</span><br />
     <span id="recovered"><span id="count_R">0</span> recovered</span>
  </div>
-->
 
 <div id="controls">
          
    <div style='text-align:center;'>
        <script type= "text/javascript" src = "countries.js"></script>
        Country:   <select id="country2" name ="country2"></select>
        Pop: <input id="p_N" type="text" name="p_N" value="1000" />
    </div>
   
    <script language="javascript">
          populateCountries("country2");
    </script>
    
    
    <br />
    
    &lambda; =  <input id="p_lambda" type="text" name="p_lambda" value="0.00" />
    &eta; = <input id="p_eta" type="text" name="p_eta" value="20" />
    &mu; = <input id="p_mu" type="text" name="p_mu" value="0.00" />
    <br />
    
    &beta; =  <input id="p_SI" type="text" name="p_SI" value="0.00" />
    &gamma; = <input id="p_IR" type="text" name="p_IR" value="0.00" />
    R<sub>0</sub> = <input id="p_R0" type="text" name="p_R0" value="0.00" />
    <br />
    Optimise:
    <span><button id="opt-beta-button">&beta;</button></span>
    <span><button id="opt-lambda-button">&lambda;</button></span>
    <br /><br />
    Simulate:
    <span><button id="reset-button">reset</button></span>
    <span><button id="start-button">start</button></span>
    <span><button id="stop-button">stop</button></span>
    <span><button id="continue-button">continue</button></span>
    <br /><br />
    
    <math>
           &nu; = current stringency index (yellow curve) <br />
           &sigma;<sub>n+1</sub> = 1 - &lambda; (&nu;<sub>n-&mu;</sub>)<sup> &eta; </sup> = current ameliorate (cyan curve)
           <br />
           S<sub>n+1</sub> = S<sub>n</sub> - &sigma; &beta; S<sub>n</sub> I<sub>n</sub>
           <br />
           I<sub>n+1</sub> = I<sub>n</sub> + &sigma; &beta; S<sub>n</sub> I<sub>n</sub> - &gamma; I<sub>n</sub> <br />
           R<sub>n+1</sub> = R<sub>n</sub> + &gamma; I<sub>n</sub> <br />
           C<sub>n+1</sub> = I<sub>n+1</sub> + R<sub>n+1</sub> <br />
    </math>
    <br />
    
   
   
 

 </div>
    
  <script type="text/javascript" src="sirtoy.js"></script>
  
  </div>
  

 </body>                                                                 
</html>



